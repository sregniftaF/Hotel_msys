<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon-->
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/fav.png') }}">
    <!-- Author Meta -->
    <meta name="author" content="colorlib">
    <!-- Meta Description -->
    <meta name="description" content="">
    <!-- Meta Keyword -->
    <meta name="keywords" content="">
    <!-- meta character set -->
    <meta charset="UTF-8">
    <!-- Site Title -->
    <title>{% block title %}Home{% endblock %}</title>

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet"> 
    <link href="{{ url_for('static', filename='bootstrap.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='linearicons.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='font-awesome.min.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='magnific-popup.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='jquery-ui.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='nice-select.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='animate.min.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='owl.carousel.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='main.css') }}" rel="stylesheet" type="text/css">
</head>
<body>    
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="flash-message" id="flashMessage">
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </div>            
    {% endif %}
    {% endwith %}
    <header id="header" class="header-top">
        <div class="header-top">    
            <div class="container">
              <div class="row align-items-center">
                  <div class="col-lg-6 col-sm-6 col-6 header-top-right">
                  </div>
              </div>			  					
            </div>
        </div>
        <div class="container main-menu">
            <div class="row align-items-center justify-content-between d-flex">
              <div id="logo">
                <a href="/index"><img src="{{ url_for('static', filename='img/logo.png') }}" title="" /></a>
              </div>
              <nav id="nav-menu-container">
                <ul class="nav-menu">
                  <li><a href="index">Home</a></li>
                  <li><a href="hotels">Hotels</a></li>
                  {% if session['loggedin'] %}
                  <li><a href="userpage">{{account}}</a></li>
                  <li><a href="logout">Logout</a></li>
                  {% else %}
                  <li><a href="login">Login</a></li>
                  <li><a href="signup">Sign Up</a></li>
                  {% endif %}
                </ul>
              </nav><!-- #nav-menu-container -->					      		  
            </div>
        </div>
    </header><!-- #header -->

    {% block content %} {% endblock %}

    <!-- start footer Area -->		
    {% if (request.path != "/login" and request.path != "/signup" and request.path !="/userpage")%}
    <footer class="footer-area section-gap">
        <div class="container">

            <div class="row">
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>About Agency</h6>
                        <p>
                            The world has become so fast paced that people donâ€™t want to stand by reading a page of information, they would much rather look at a presentation and understand the message. It has come to a point 
                        </p>
                    </div>
                </div>						
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Newsletter</h6>
                        <p>
                            For business professionals caught between high OEM price and mediocre print and graphic output.									
                        </p>								
                        <div id="mc_embed_signup">
                            <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="subscription relative">
                                <div class="input-group d-flex flex-row">
                                    <input name="EMAIL" placeholder="Email Address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" required="" type="email">
                                    <button class="btn bb-btn"><span class="lnr lnr-location"></span></button>		
                                </div>									
                                <div class="mt-10 info"></div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget mail-chimp">
                        <h6 class="mb-20">InstaFeed</h6>
                        <ul class="instafeed d-flex flex-wrap">
                            <li><img src="{{ url_for('static', filename='img/i1.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i2.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i3.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i4.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i5.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i6.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i7.jpg') }}" alt=""></li>
                            <li><img src="{{ url_for('static', filename='img/i8.jpg') }}" alt=""></li>
                        </ul>
                    </div>
                </div>						
            </div>

            <div class="row footer-bottom d-flex justify-content-between align-items-center">
                <p class="col-lg-8 col-sm-12 footer-text m-0"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
            </div>
        </div>
    </footer>
    {% endif %}
    <!-- End footer Area -->	

    <script src="{{ url_for('static', filename='js/vendor/jquery-2.2.4.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/vendor/bootstrap.min.js') }}"></script>			
    <script src="{{ url_for('static', filename='js/jquery-ui.js') }}"></script>					
    <script src="{{ url_for('static', filename='js/easing.min.js') }}"></script>			
    <script src="{{ url_for('static', filename='js/hoverIntent.js') }}"></script>
    <script src="{{ url_for('static', filename='js/superfish.min.js') }}"></script>	
    <script src="{{ url_for('static', filename='js/jquery.ajaxchimp.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.magnific-popup.min.js') }}"></script>						
    <script src="{{ url_for('static', filename='js/jquery.nice-select.min.js') }}"></script>					
    <script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>							
    <script src="{{ url_for('static', filename='js/mail-script.js') }}"></script>	
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
      $(document).ready(function () {
          $('#roomInput').on('input', function () {
              var rooms = $(this).val();
              if (rooms >= 1) {
                  $('#adultChildContainer').empty();
                  for (var i = 1; i <= rooms; i++) {
                      var isEven = i % 2 === 0;
                      var positionClass = isEven ? 'banner-right' : 'banner-left';
                      $('#adultChildContainer').append(
                          '<div class="col-lg-6 ' + positionClass + '">' +
                          '<p>Room ' + i + '</p>' +
                          '<input type="number" min="1" max="20" class="form-control adults" name="adults' + i + '" placeholder="Adults" onfocus="this.placeholder = \'\'" onblur="this.placeholder = \'Adults\'">' +
                          '<input type="number" min="0" max="20" class="form-control child" name="child' + i + '" placeholder="Child" tabindex="1">' +
                          '<div class="child-age-container" id="childAgeContainer' + i + '"></div>' +
                          '</div>'
                      );
                  }
                  $('#adultChildContainer').show();
              } else {
                  $('#adultChildContainer').empty();
                  $('#adultChildContainer').hide();
              }
          });
  
          // Listen for changes in the child input fields
          $('#adultChildContainer').on('input', '.child', function () {
              var roomNumber = $(this).attr('name').match(/\d+/); // Extract the room number from the input name
              var childCount = parseInt($(this).val());
  
              var childAgeContainer = $('#childAgeContainer' + roomNumber);
  
              // Clear any previous child age inputs
              childAgeContainer.empty();
  
              if (childCount > 0) {
                  for (var j = 1; j <= childCount; j++) {
                      childAgeContainer.append(
                          '<input type="number" min="1" max="17" class="form-control childage" name="childage' + roomNumber + '_' + j + '" placeholder="Child Age" tabindex="1">'
                      );
                  }
              }
          });
  
          // Listen for changes in the childage input fields
          $('#adultChildContainer').on('input', '.childage', function () {
              // Handle changes in childage inputs here
          });

          $('#myForm').on('submit', function (event) {
            event.preventDefault(); // Prevent the default form submission
            
            // Gather data from inputs
            var formData = {};
            var rooms = $('#roomInput').val();
    
            for (var i = 1; i <= rooms; i++) {
                formData['adults' + i] = $('input[name="adults' + i + '"]').val();
                formData['child' + i] = $('input[name="child' + i + '"]').val();
    
                var childCount = parseInt($('input[name="child' + i + '"]').val());
                if (childCount > 0) {
                    for (var j = 1; j <= childCount; j++) {
                        formData['childage' + i + '_' + j] = $('input[name="childage' + i + '_' + j + '"]').val();
                    }
                }
            }
    
            // Process the form data (e.g., send it to a server or perform some action)
            console.log(formData); // Log the captured data for demonstration
    
            // Here, you can perform further actions with the form data (e.g., AJAX request or other processing)
        });
      });
    </script>
    <script>
        function updateSecondSelect(selectedValue) {
            var secondSelect = document.getElementById('second-select');

            if (selectedValue == 'all') {
                secondSelect.innerHTML = ''
            }
            else if (selectedValue == 'singapore') {
                secondSelect.innerHTML = '<option value="singapore" selected>Singapore</option>\
                <option value="jurong" >Jurong</option>\
                <option value="changi" >Changi</option>\
                <option value="chinatown" >Chinatown</option>\
                <option value="marina" >Marina</option>\
                <option value="sentosa" >Sentosa</option>\
                <option value="novena" >Novena</option>\
                <option value="seletar" >Seletar</option>\
                <option value="kranji" >Kranji</option>'
            }
            else {
                secondSelect.innerHTML = '<option value="japan" >Japan</option>\
                <option value="hiroshima" >Hiroshima</option>\
                <option value="ishigaki" >Ishigaki</option>\
                <option value="kochi" >Kochi</option>\
                <option value="niigata" >Niigata</option>\
                <option value="kitakyushu" >Kitakyushu</option>\
                <option value="kumamoto" >Kumamoto</option>\
                <option value="kagoshima" >Kagoshima</option>\
                <option value="miyakojima" >Miyakojima</option>\
                <option value="matsuyama" >Matsuyama</option>\
                <option value="nagoya" >Nagoya</option>\
                <option value="nagasaki" >Nagasaki</option>\
                <option value="naha" >Naha</option>\
                <option value="osaka" >Osaka</option>\
                <option value="sendai" >Sendai</option>'
            }
        }
        
        // Retrieve the selected value from localStorage on page load
        var storedValue = localStorage.getItem('selectedValue');
        if (storedValue) {
            // Set the first select's value to the stored value
            document.getElementById('country-select').value = storedValue;
            // Update the second select based on the stored value
            updateSecondSelect(storedValue);
        }
    </script>
    <script>
        function updateSelectedOption(selectedValue) {
            var secondSelect = document.getElementById('second-select');
            
            // Remove the selected attribute from all options
            var options = secondSelect.options;
            for (var i = 0; i < options.length; i++) {
                options[i].removeAttribute('selected');
            }
    
            // Add the selected attribute to the chosen option
            var selectedOption = secondSelect.querySelector("option[value='" + selectedValue + "']");
            if (selectedOption) {
                selectedOption.setAttribute('selected', 'selected');
            }
        }
    </script>
    <script>
        // Get a reference to the flash message element
        const flashMessage = document.getElementById('flashMessage');

        // Function to show the flash message for 2 seconds
        function showFlashMessage(message) {
            flashMessage.textContent = message;
            flashMessage.style.display = 'block';

            setTimeout(function() {
                flashMessage.style.display = 'none';
            }, 2000); // 2 seconds (2000 milliseconds)
        }

        // Call the function to display the flash message
        showFlashMessage(flashMessage.textContent);
    </script>

    
</body>
</html>